#!/bin/sh
echo "ğŸ” Running pre-commit validation..."

# 1. Build (includes type check)
echo "Building..."
cd typescript && npm run build
if [ $? -ne 0 ]; then
    echo "âŒ Build failed"
    exit 1
fi

# 2. Tests
echo "Running tests..."
npm test
if [ $? -ne 0 ]; then
    echo "âŒ Tests failed"
    exit 1
fi
cd ..

# 3. Python tests
echo "Running Python tests..."
cd python && pytest -v
if [ $? -ne 0 ]; then
    echo "âŒ Python tests failed"
    exit 1
fi
cd ..

echo "âœ… All pre-commit checks passed"
