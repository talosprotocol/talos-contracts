#!/usr/bin/env bash
set -e

echo "ğŸ” Running pre-commit checks for talos-contracts..."

cd typescript

echo "1) Linting..."
npm run lint

echo "2) Typechecking..."
npm run typecheck

echo "3) Testing..."
npm test

echo "2) Scanning for hardcoded secrets..."
if [[ -f "../../scripts/scan-secrets.sh" ]]; then
    bash ../../scripts/scan-secrets.sh .
else
    echo "   âš ï¸  Shared secret scanner not found (skipped)"
fi

echo "âœ… talos-contracts checks passed!"
