{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://talosprotocol.com/schemas/ai_gateway/upstream.schema.json",
  "title": "LLM Upstream",
  "description": "Configuration for an LLM provider endpoint.",
  "type": "object",
  "required": ["id", "provider", "endpoint"],
  "properties": {
    "id": {
      "type": "string",
      "description": "Unique identifier for this upstream."
    },
    "provider": {
      "type": "string",
      "enum": ["openai", "azure", "anthropic", "google", "custom"],
      "description": "LLM provider type."
    },
    "endpoint": {
      "type": "string",
      "format": "uri",
      "description": "Base URL for the provider API."
    },
    "credentials_ref": {
      "type": "string",
      "description": "Reference to encrypted credentials (e.g., secret name)."
    },
    "tags": {
      "type": "object",
      "additionalProperties": { "type": "string" },
      "description": "Metadata tags for routing decisions."
    },
    "enabled": {
      "type": "boolean",
      "default": true
    }
  }
}
