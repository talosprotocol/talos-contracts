{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://talos.network/schemas/mcp/invoke.schema.json",
  "title": "McpInvoke",
  "definitions": {
    "InvokeToolRequest": {
      "type": "object",
      "properties": {
        "server_id": {
          "type": "string",
          "description": "ID of the target server"
        },
        "tool_name": {
          "type": "string",
          "description": "Name of the tool to invoke"
        },
        "input": {
          "type": "object",
          "description": "Input arguments for the tool",
          "additionalProperties": true
        },
        "request_id": {
          "type": "string",
          "description": "Unique client-generated ID for the request"
        },
        "session_id": {
          "type": "string",
          "description": "Optional session ID for stateful interactions"
        },
        "mode": {
          "type": "string",
          "enum": ["sync", "async"],
          "default": "sync",
          "description": "Invocation mode"
        }
      },
      "required": ["server_id", "tool_name", "input", "request_id"]
    },
    "InvokeToolResponse": {
      "type": "object",
      "properties": {
        "request_id": {
          "type": "string",
          "description": "Corresponds to the request ID"
        },
        "output": {
          "type": "object",
          "description": "Structured output from the tool",
          "additionalProperties": true
        },
        "error": {
          "$ref": "https://talos.network/schemas/mcp/errors.schema.json",
          "description": "Error details if the invocation failed"
        },
        "timing_ms": {
          "type": "integer",
          "description": "Execution time in milliseconds"
        },
        "audit_ref": {
          "type": "string",
          "description": "Reference to the audit log entry for this invocation"
        }
      },
      "required": ["request_id"]
    }
  }
}
